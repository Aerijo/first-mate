{"name":"first-mate","tagline":"TextMate helpers","body":"# First Mate [![Build Status](https://travis-ci.org/atom/first-mate.png)](https://travis-ci.org/atom/first-mate)\r\n\r\nTextMate helpers\r\n\r\n## Installing\r\n\r\n```sh\r\nnpm install first-mate\r\n```\r\n\r\n## Using\r\n\r\n### ScopeSelector\r\n\r\n```coffeescript\r\n{ScopeSelector} = require 'first-mate'\r\nselector = new ScopeSelector('a | b')\r\nselector.matches(['c']) # false\r\nselector.matches(['a']) # true\r\n```\r\n\r\n### GrammarRegistry\r\n\r\n```coffeescript\r\n{GrammarRegistry} = require 'first-mate'\r\nregistry = new GrammarRegistry()\r\ngrammar = registry.loadGrammarSync('./spec/fixtures/javascript.json')\r\n{tokens} = grammar.tokenizeLine('var offset = 3;')\r\nfor {value, scopes} in tokens\r\n  console.log(\"Token text: '#{value}' with scopes: #{scopes}\")\r\n```\r\n\r\n#### loadGrammar(grammarPath, callback)\r\n\r\nAsynchronously load a grammar and add it to the registry.\r\n\r\n`grammarPath` - A string path to the grammar file.\r\n\r\n`callback` - A function to call after the grammar is read and added to the\r\nregistry.  The callback receives `(error, grammar)` arguments.\r\n\r\n#### loadGrammarSync(grammarPath)\r\n\r\nSynchronously load a grammar and add it to the registry.\r\n\r\n`grammarPath` - A string path to the grammar file.\r\n\r\nReturns a `Grammar` instance.\r\n\r\n### Grammar\r\n\r\n#### tokenizeLine(line, [ruleStack], [firstLine])\r\n\r\nGenerate the tokenize for the given line of text.\r\n\r\n`line` - The string text of the line.\r\n\r\n`ruleStack` - An array of Rule objects that was returned from a previous call\r\nto this method.\r\n\r\n`firstLine` - `true` to indicate that the very first line is being tokenized.\r\n\r\nReturns an object with a `tokens` key pointing to an array of token objects\r\nand a `ruleStack` key pointing to an array of rules to pass to this method\r\non future calls for lines proceeding the line that was just tokenized.\r\n\r\n#### tokenizeLines(text)\r\n\r\n`text` - The string text possibly containing newlines.\r\n\r\nReturns an array of tokens for each line tokenized.\r\n\r\n## Developing\r\n\r\n  * Clone the repository\r\n  * Run `npm install`\r\n  * Run `npm test` to run the specs\r\n  * Run `npm run benchmark` to benchmark fully tokenizing jQuery 2.0.3\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}